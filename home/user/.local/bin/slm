#!/bin/sh


set -eu

readonly LAYOUTS_DIR="${HOME}/.screenlayout"


if [ ! -d "${LAYOUTS_DIR}" ]; then
    mkdir "${LAYOUTS_DIR}"
fi

cmd_list() {
    find "${LAYOUTS_DIR}" -type f,l -exec basename {} \;
}

cmd_load() {
    if [ -z "${1:-}" ]; then
        "${LAYOUTS_DIR}/default"
    else
        "${LAYOUTS_DIR}/${1}"
    fi
}

cmd_help () {
    echo "slm (ls|load)" >&2
}


case "${1}" in
    ls) shift;         cmd_list       "$@" ;;
    load) shift;       cmd_load       "$@" ;;
    *) shift;          cmd_help       "$@" ;;
esac
exit 0
